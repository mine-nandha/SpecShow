@model SearchViewModel
@{
	ViewData["Title"] = "Search";
}

<h1>Search</h1>

<form asp-action="Search" id="searchForm">
	<div class="form-group">
		<input asp-for="Mobile.MobileName" type="text" class="form-control" />
	</div>
</form>
@if (!(Model == null))
{
	<table class="table">
		@foreach (var item in Model.Mobiles)
		{
			<tr>
				<td>@item.MobileName</td>
			</tr>

		}
	</table>
}
@section Scripts {
	<script>
		$(function () {
			$("#Mobile_MobileName").autocomplete({
				source: function (request, response) {
					$.ajax({
						url: "/Home/GetSearchResults",
						type: "GET",
						dataType: "json",
						data: {
							query: request.term
						},
						success: function (data) {
							response(data);
						}
					});
				},
				minLength: 2,
				select: function (event, ui) {
					$("#Mobile_MobileName").val(ui.item.value);
					$("#searchForm").submit();
					return false;
				}
			});
		});

	</script>

}
